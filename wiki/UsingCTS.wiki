#summary Explanation of how to use the CTS for testing the Smartcard API and Open Mobile API

= Introduction =

The [http://source.android.com/compatibility/cts-intro.html Compatibility Test Suite (CTS)] can be extended so it can be used also to test the Smartcard API and Open Mobile API.

All test cases for testing the Smartcard API are contained in a test plan called 'Smartcard'.<br>
All test cases for testing the Open Mobile API are contained in a test plan called 'OpenMobile'.

The tests include and utilize a mock plug-in reader that simulates a secure element with an appropriate applet. So the tests can be executed without a real card.

The following paragraphs describe
  * how to build an extended CTS containing the additional Smartcard API and Open Mobile API tests,
  * how to run the tests, and
  * where to find documentation and results of the tests.

= How to Build the CTS =

For building CTS with Smartcard API and Open Mobile API tests
  * change into directory of Android build with Smartcard API and Open Mobile API
  * extract file {{{smartcard-api-2_2_0/cts/cts.patch}}} from archive {{{smartcard-api-2_2_0.tgz}}} ([http://seek-for-android.googlecode.com/files/smartcard-api-2_2_0.tgz download]) and apply it as patch and
  * build the CTS:

{{{
$ cd ANDROID_ROOT_DIR
$ tar -xOf PATH_TO_PATCH_ARCHIVE/smartcard-api-2_2_0.tgz smartcard-api-2_2_0/cts/cts.patch | patch -p1 
$ make cts
}}}

= How to Run the CTS Tests =
After the CTS has been built successfully with the Smartcard API/OpenMobile API
test extensions, the test tool {{{startcts}}} can be found in directory
{{{out/host/linux-x86/cts/android-cts/tools}}}.

Execution of the whole test plan for the Smartcard API is started by the following command: 
{{{
$ out/host/linux-x86/cts/android-cts/tools/startcts start --plan Smartcard
}}}

Execution of the whole test plan for the Open Mobile API is started by the following command: 
{{{
$ out/host/linux-x86/cts/android-cts/tools/startcts start --plan OpenMobile
}}}

= Documentation and Results of CTS Tests = 

The documentation of the test cases of the test plans for the Smartcard API and the Open Mobile API are located in<br>
{{{out/host/linux-x86/cts/android-cts/repository/testcases/CtsSmartcardTestCases.xml}}}
and<br>
{{{out/host/linux-x86/cts/android-cts/repository/testcases/CtsOpenMobileTestCases.xml}}}
respectively.

The results of test runs are stored in directory<br>
{{{out/host/linux-x86/cts/android-cts/repository/results}}}. 
 