#summary How to use the android.smartcard library in Android
#labels andorid,smartcard,seek

= Introduction =

The Android smartcard library is a proposal for an implementation of a library that will enable Android applications to connect a Secure Element, e.g. USIM card or Mobile Security Card.<br/><br/>
The interface of the library should be considered as stable and independent of the underlying transport mechanism; either PC/SC or NativeMcEX.
Currently, the PC/SC is the best choice as it is better supported and tested. Over the time, we plan to remove PC/SC support and aim for the native McEX handler (see [http://code.google.com/p/seek-for-android/wiki/PCSCvsNativeMcEX PCSCvsNativeMcEX]<br/><br/>
Requirements: [http://code.google.com/p/seek-for-android/wiki/HowToBuildKernel McEX enabled kernel]
<br/><br/>


== Compiling the NativeMcEX Jni Sources ==

The NativeMcEX Jni Sources are available within the subversion source tree (_/trunk/jni/mcex_).
The seek project contains a precompiled version of the shared library that can be used in own projects without the need to compile the sources with the NDK.<br/>
However, if required the sources can be build with the following steps: 
  * Checkout the files with `svn checkout http://seek-for-android.googlecode.com/svn/trunk/jni/mcex`
  * Create an Android NDK project named _mcex_ with the subversion sources
  * run `make APP=mcex`
  * use the compiled `libmcex.so` in your own application
_See the Android NDK documentation for more information how to create and setup and NDK project_
<br/><br/>


== Creating an Android application that uses the SEEK interface ==
In subversion, a _/trunk/samples/SmartcardSample_ example is uploaded that makes use of the SEEK interface.<br/><br/>
Running the sample application:
  * Checkout the eclipse project with `svn checkout http://seek-for-android.googlecode.com/svn/trunk/samples/SmartcardSample`
  * Open the eclipse project, rebuild and deploy the application on the phone with an McEX enabled kernel

Creating a new project:
  * Using eclipse, create a new Android application (Min SDK Verison 3)
  * Copy `android.smartcard.jar` from the subversion _seek_ project into the `libs` folder
  * Copy `libmcex.so` from the subversion _seek_ project into the `libs\armeabi` folder
  * Add the JAR file to the project dependencies
  * Run the application using the new Android smartcard library (SEEK)